{% extends 'admin_base.html' %}

{% block title %}Manage Customers{% endblock %}
{% block page_title %}All Customers{% endblock %}

{% block content %}
    <form method="get" action="{{ url_for('admin_customers') }}" class="customer-search-bar">
        <div class="customer-search-group">
            <input type="text" name="search"
                   placeholder="Search by ID, Name, Username, Contact, or Address"
                   value="{{ search_query or '' }}">
            <button type="submit">Search</button>
            <a href="{{ url_for('admin_customers') }}" class="customer-reset-link">Reset</a>
        </div>
    </form>

    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>Customer ID</th>
                    <th>Name</th>
                    <th>Username</th>
                    <th>Contact</th>
                    <th>Address</th>
                </tr>
            </thead>
            <tbody>
                {% for customer in customers %}
                <tr>
                    <td><a href="{{ url_for('admin_customer_detail', customer_id=customer[0]) }}">#{{ customer[0] }}</a></td>
                    <td>{{ customer[1] }}</td>
                    <td>{{ customer[2] }}</td>
                    <td>{{ customer[3] }}</td>
                    <td>{{ customer[4] }}</td>
                </tr>
                {% else %}
                <tr><td colspan="5">No customers found.</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}